System.register(["./index-legacy-CfzuGBA0.js","./Button-legacy-BdOTYOFB.js"],(function(e,n){"use strict";var t,l,r,u,a,o,s,c,i,p,f,v,d,g;return{setters:[function(e){t=e.d,l=e.$,r=e.j,u=e.n,a=e.c,o=e.o,s=e.f,c=e.e,i=e.M,p=e.l,f=e.E,v=e.w},function(e){d=e.ar,g=e.aq}],execute:function(){var n={class:"p-4"},h={key:0},b={key:1},A={id:"toppart"},y={id:"formatted_code",class:"jush-sql"},C=["innerHTML"],_=t({__name:"SQL_Formatter",setup:function(e){var t=l(),_=t.copy,m=t.copied,j=r(null),L=r(""),$=r(null),w=u((function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/<[^>]*>/g,"").replaceAll("&lt;","<").replaceAll("&gt;",">")}(null==$?void 0:$.value)})),x=0,D=null;function F(){null!=D&&clearTimeout(D),D=setTimeout(T,1)}function S(){for(var e="",n=0;n<x;n++)for(var t=0;t<4;t++)e+=" ";return e}function T(){D=null;var e=j.value;"\n"==e[0]&&(e=e.substr(1)),e=(e=(e=e.replace(/[	 ]+/g," ")).replace(/\s?([;:{},+>])\s?/g,"$1")).replace(/\{(.*):(.*)\}/g,"{$1: $2}");for(var n,t=S(),l=x,r=!1,u=!0,a=0,o=0;o<e.length;o++)if(n=e.charAt(o),r)r==n&&(r=!1),t+=n,a++,u=!1;else if("("==n)"(+)"==e.substr(o,3)?(t+="(+)",o+=2,a+=3,u=!1):(t+="\n"+S()+"(\n",x++,t+=S(),a=4*x,u=!0);else if("/*"==e.substr(o,2)){for(o+=2,t+="/*";"*/"!=e.substr(o,2);)t+=e.charAt(o++),a++;o++,t+="*/",a+=4}else" from"==e.substr(o,5).toLowerCase()?(t+="\n"+S()+e.substr(o+1,4),o+=4,a=4*x+4,u=!1):" where"==e.substr(o,6).toLowerCase()?(t+="\n"+S()+e.substr(o+1,5),o+=5,a=4*x+5,u=!1):" and"==e.substr(o,4).toLowerCase()?(t+="\n"+S()+e.substr(o+1,3),o+=3,a=4*x+3,u=!1):" or"==e.substr(o,3).toLowerCase()?(t+="\n"+S()+e.substr(o+1,2),o+=2,a=4*x+2,u=!1):")"==n?(t=t.replace(/\s*$/,""),x--,t+="\n"+S()+")",a=4*x+1,u=!1):'"'==n||"'"==n?(r=(!r||n!=r)&&n,t+=n,a++,u=!1):","==n?(t+=",\n"+S(),a=4*x,u=!0):"\n"==n?(t+="\n"+S(),a=4*x,u=!0):" "==n?u||(a>70?(t+="\n"+S(),u=!0,a=4*x):t+=" "):(t+=n,a++,u=!1);x=l,function(e){e=(e=(e=e.replace(/\n\s*\n/g,"\n")).replace(/^[\s\n]*/,"")).replace(/[\s\n]*$/,"");var n=L.value;$.value=jush.highlight("sql",function(e,n){for(var t=e.split("?"),l=0;l<t.length-1;l++){var r="";try{r=n[l]||""}catch(e){}t[l]+="'"+r+"'",t[l]+="/** 替换?[".concat(l,"] **/")}return t.join("")}(e,(null==n?void 0:n.replaceAll("(String)","").replaceAll("(Integer)","").replaceAll(", ",",")).split(","))),x=0}(t=t.replace(/[\s\n]*$/,""))}return function(e,t){var l=d,r=g;return o(),a("div",n,[s("div",null,[c(l,{value:p(j),"onUpdate:value":t[0]||(t[0]=function(e){return f(j)?j.value=e:null}),type:"textarea",placeholder:"sql",onChange:F},null,8,["value"]),t[5]||(t[5]=i(" 参数： ")),c(l,{value:p(L),"onUpdate:value":t[1]||(t[1]=function(e){return f(L)?L.value=e:null}),type:"textarea",placeholder:"填入参数，例如：5D877897-FD3E-44AC-9096-D3FA9A948CA7, 5D877897-FD3E-44AC-9096-D3FA9A948CA7",onChange:F},null,8,["value"]),c(r,{onClick:t[2]||(t[2]=function(e){console.log(p(w)),p(_)(p(w))}),type:"info",class:"text-16px",size:"large"},{icon:v((function(){return t[3]||(t[3]=[s("span",{class:"i-mdi:content-copy"},null,-1)])})),default:v((function(){return[t[4]||(t[4]=i(" 复制")),p(m)?(o(),a("span",b,"Copied!")):(o(),a("span",h,"Copy"))]})),_:1})]),s("div",A,[s("pre",null,[t[8]||(t[8]=i("\t\t\t\t")),s("code",y,[t[6]||(t[6]=i("\n\t\t\t\t\t")),s("div",{innerHTML:p($)},null,8,C),t[7]||(t[7]=i("\n\t\t\t\t"))]),t[9]||(t[9]=i("\n\t\t\t"))])])])}}}),m=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"}));e("_",m)}}}));
