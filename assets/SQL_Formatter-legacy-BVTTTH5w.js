System.register(["./index-legacy-BFeieKTx.js","./Button-legacy-BI2j5vnK.js"],(function(e,t){"use strict";var n,r,l,u,s,o,a,c,i,p,f,d,v,g;return{setters:[function(e){n=e.d,r=e.Z,l=e.j,u=e.p,s=e.o,o=e.c,a=e.f,c=e.e,i=e.l,p=e.v,f=e.w,d=e.M},function(e){v=e.ar,g=e.aq}],execute:function(){var t={class:"p-4"},b={key:0},h={key:1},y={id:"toppart"},_={id:"formatted_code",class:"jush-sql"},m=["innerHTML"],C=n({__name:"SQL_Formatter",setup:function(e){var n=r(),C=(n.text,n.copy),j=n.copied,L=(n.isSupported,l(null)),w=l(null),x=u((function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/<[^>]*>/g,"").replaceAll("&lt;","<").replaceAll("&gt;",">")}(null==w?void 0:w.value)})),$=0,S=null;function T(){null!=S&&clearTimeout(S),S=setTimeout(A,1)}function q(){for(var e="",t=0;t<$;t++)for(var n=0;n<4;n++)e+=" ";return e}function A(){S=null;var e=L.value;"\n"==e[0]&&(e=e.substr(1)),e=(e=(e=e.replace(/[	 ]+/g," ")).replace(/\s?([;:{},+>])\s?/g,"$1")).replace(/\{(.*):(.*)\}/g,"{$1: $2}");for(var t,n=q(),r=$,l=!1,u=!0,s=0,o=0;o<e.length;o++)if(t=e.charAt(o),l)l==t&&(l=!1),n+=t,s++,u=!1;else if("("==t)"(+)"==e.substr(o,3)?(n+="(+)",o+=2,s+=3,u=!1):(n+="\n"+q()+"(\n",$++,n+=q(),s=4*$,u=!0);else if("/*"==e.substr(o,2)){for(o+=2,n+="/*";"*/"!=e.substr(o,2);)n+=e.charAt(o++),s++;o++,n+="*/",s+=4}else" from"==e.substr(o,5).toLowerCase()?(n+="\n"+q()+e.substr(o+1,4),o+=4,s=4*$+4,u=!1):" where"==e.substr(o,6).toLowerCase()?(n+="\n"+q()+e.substr(o+1,5),o+=5,s=4*$+5,u=!1):" and"==e.substr(o,4).toLowerCase()?(n+="\n"+q()+e.substr(o+1,3),o+=3,s=4*$+3,u=!1):" or"==e.substr(o,3).toLowerCase()?(n+="\n"+q()+e.substr(o+1,2),o+=2,s=4*$+2,u=!1):")"==t?(n=n.replace(/\s*$/,""),$--,n+="\n"+q()+")",s=4*$+1,u=!1):'"'==t||"'"==t?(l=(!l||t!=l)&&t,n+=t,s++,u=!1):","==t?(n+=",\n"+q(),s=4*$,u=!0):"\n"==t?(n+="\n"+q(),s=4*$,u=!0):" "==t?u||(s>70?(n+="\n"+q(),u=!0,s=4*$):n+=" "):(n+=t,s++,u=!1);$=r,function(e){e=(e=(e=e.replace(/\n\s*\n/g,"\n")).replace(/^[\s\n]*/,"")).replace(/[\s\n]*$/,""),w.value=jush.highlight("sql",e),$=0}(n=n.replace(/[\s\n]*$/,""))}return function(e,n){var r=v,l=g;return s(),o("div",t,[a("div",null,[c(r,{value:i(L),"onUpdate:value":n[0]||(n[0]=function(e){return p(L)?L.value=e:null}),type:"textarea",placeholder:"sql",onChange:T},null,8,["value"]),c(l,{onClick:n[1]||(n[1]=function(e){console.log(i(x)),i(C)(i(x))}),type:"info",class:"text-16px",size:"large"},{icon:f((function(){return n[2]||(n[2]=[a("span",{class:"i-mdi:content-copy"},null,-1)])})),default:f((function(){return[n[3]||(n[3]=d(" 复制")),i(j)?(s(),o("span",h,"Copied!")):(s(),o("span",b,"Copy"))]})),_:1})]),a("div",y,[a("pre",null,[n[6]||(n[6]=d("\t\t\t\t")),a("code",_,[n[4]||(n[4]=d("\n\t\t\t\t\t")),a("div",{innerHTML:i(w)},null,8,m),n[5]||(n[5]=d("\n\t\t\t\t"))]),n[7]||(n[7]=d("\n\t\t\t"))])])])}}}),j=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));e("_",j)}}}));
