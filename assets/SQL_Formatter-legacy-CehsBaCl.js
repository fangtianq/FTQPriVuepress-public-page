System.register(["./index-legacy-Bm1OC2pb.js","./Button-legacy-BbJMISG2.js"],(function(e,t){"use strict";var n,l,r,u,a,o,s,c,i,p,f,v,d,g;return{setters:[function(e){n=e.d,l=e.$,r=e.j,u=e.p,a=e.o,o=e.c,s=e.f,c=e.e,i=e.l,p=e.v,f=e.M,v=e.w},function(e){d=e.ar,g=e.aq}],execute:function(){var t={class:"p-4"},h={key:0},b={key:1},y={id:"toppart"},A={id:"formatted_code",class:"jush-sql"},C=["innerHTML"],_=n({__name:"SQL_Formatter",setup:function(e){var n=l(),_=(n.text,n.copy),m=n.copied,j=(n.isSupported,r(null)),x=r(""),L=r(null),$=u((function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/<[^>]*>/g,"").replaceAll("&lt;","<").replaceAll("&gt;",">")}(null==L?void 0:L.value)})),w=0,D=null;function S(){null!=D&&clearTimeout(D),D=setTimeout(T,1)}function F(){for(var e="",t=0;t<w;t++)for(var n=0;n<4;n++)e+=" ";return e}function T(){D=null;var e=j.value;"\n"==e[0]&&(e=e.substr(1)),e=(e=(e=e.replace(/[	 ]+/g," ")).replace(/\s?([;:{},+>])\s?/g,"$1")).replace(/\{(.*):(.*)\}/g,"{$1: $2}");for(var t,n=F(),l=w,r=!1,u=!0,a=0,o=0;o<e.length;o++)if(t=e.charAt(o),r)r==t&&(r=!1),n+=t,a++,u=!1;else if("("==t)"(+)"==e.substr(o,3)?(n+="(+)",o+=2,a+=3,u=!1):(n+="\n"+F()+"(\n",w++,n+=F(),a=4*w,u=!0);else if("/*"==e.substr(o,2)){for(o+=2,n+="/*";"*/"!=e.substr(o,2);)n+=e.charAt(o++),a++;o++,n+="*/",a+=4}else" from"==e.substr(o,5).toLowerCase()?(n+="\n"+F()+e.substr(o+1,4),o+=4,a=4*w+4,u=!1):" where"==e.substr(o,6).toLowerCase()?(n+="\n"+F()+e.substr(o+1,5),o+=5,a=4*w+5,u=!1):" and"==e.substr(o,4).toLowerCase()?(n+="\n"+F()+e.substr(o+1,3),o+=3,a=4*w+3,u=!1):" or"==e.substr(o,3).toLowerCase()?(n+="\n"+F()+e.substr(o+1,2),o+=2,a=4*w+2,u=!1):")"==t?(n=n.replace(/\s*$/,""),w--,n+="\n"+F()+")",a=4*w+1,u=!1):'"'==t||"'"==t?(r=(!r||t!=r)&&t,n+=t,a++,u=!1):","==t?(n+=",\n"+F(),a=4*w,u=!0):"\n"==t?(n+="\n"+F(),a=4*w,u=!0):" "==t?u||(a>70?(n+="\n"+F(),u=!0,a=4*w):n+=" "):(n+=t,a++,u=!1);w=l,function(e){e=(e=(e=e.replace(/\n\s*\n/g,"\n")).replace(/^[\s\n]*/,"")).replace(/[\s\n]*$/,"");var t=x.value;L.value=jush.highlight("sql",function(e,t){for(var n=e.split("?"),l=0;l<n.length-1;l++){var r="";try{r=t[l]||""}catch(e){}n[l]+="'"+r+"'",n[l]+="-- 替换?[".concat(l,"]")}return n.join("")}(e,(null==t?void 0:t.replaceAll("(String)","").replaceAll(", ",",")).split(","))),w=0}(n=n.replace(/[\s\n]*$/,""))}return function(e,n){var l=d,r=g;return a(),o("div",t,[s("div",null,[c(l,{value:i(j),"onUpdate:value":n[0]||(n[0]=function(e){return p(j)?j.value=e:null}),type:"textarea",placeholder:"sql",onChange:S},null,8,["value"]),n[5]||(n[5]=f(" 参数： ")),c(l,{value:i(x),"onUpdate:value":n[1]||(n[1]=function(e){return p(x)?x.value=e:null}),type:"textarea",placeholder:"填入参数，例如：5D877897-FD3E-44AC-9096-D3FA9A948CA7, 5D877897-FD3E-44AC-9096-D3FA9A948CA7",onChange:S},null,8,["value"]),c(r,{onClick:n[2]||(n[2]=function(e){console.log(i($)),i(_)(i($))}),type:"info",class:"text-16px",size:"large"},{icon:v((function(){return n[3]||(n[3]=[s("span",{class:"i-mdi:content-copy"},null,-1)])})),default:v((function(){return[n[4]||(n[4]=f(" 复制")),i(m)?(a(),o("span",b,"Copied!")):(a(),o("span",h,"Copy"))]})),_:1})]),s("div",y,[s("pre",null,[n[8]||(n[8]=f("\t\t\t\t")),s("code",A,[n[6]||(n[6]=f("\n\t\t\t\t\t")),s("div",{innerHTML:i(L)},null,8,C),n[7]||(n[7]=f("\n\t\t\t\t"))]),n[9]||(n[9]=f("\n\t\t\t"))])])])}}}),m=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"}));e("_",m)}}}));
